# Cloud File Storage

[![Java](https://img.shields.io/badge/Java-17-blue.svg)](https://java.com)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.0+-green.svg)](https://spring.io/projects/spring-boot)
[![Spring Security](https://img.shields.io/badge/Spring%20Security-6.0+-green.svg)](https://spring.io/projects/spring-security)
[![Spring Data JPA](https://img.shields.io/badge/Spring%20Data%20JPA-3.0+-green.svg)](https://spring.io/projects/spring-data-jpa)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-blue.svg)](https://www.postgresql.org/)
[![Redis](https://img.shields.io/badge/Redis-7+-red.svg)](https://redis.io/)
[![MinIO](https://img.shields.io/badge/MinIO-S3%20Compatible-orange.svg)](https://min.io/)
[![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)](https://docker.com)
[![JUnit](https://img.shields.io/badge/JUnit-5-yellow.svg)](https://junit.org/junit5/)
[![Testcontainers](https://img.shields.io/badge/Testcontainers-1.18+-lightgrey.svg)](https://testcontainers.org/)
[![Swagger](https://img.shields.io/badge/Swagger-OpenAPI%203.0-green.svg)](https://swagger.io/)
[![Flyway](https://img.shields.io/badge/Flyway-Migrations-red.svg)](https://flywaydb.org/)
[![Maven](https://img.shields.io/badge/Maven-3.8+-orange.svg)](https://maven.apache.org/)

–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ñ–∞–π–ª–æ–≤–æ–µ –æ–±–ª–∞–∫–æ, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∫–∞–∫ –∞–Ω–∞–ª–æ–≥ Google Drive. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –≤—Ö–æ–¥–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É, –∑–∞–≥—Ä—É–∂–∞—Ç—å, —Å–∫–∞—á–∏–≤–∞—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Security –∏ —Å–µ—Å—Å–∏–π.
*   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏:**
    *   –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
    *   –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
    *   –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
    *   –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
*   **–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º:** –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–∞–π–ª–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.
*   **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:** –§–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –Ω–∞–¥–µ–∂–Ω–æ–º S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º –æ–±—ä–µ–∫—Ç–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (MinIO).
*   **REST API:** API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.
*   **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Docker –∏ Docker Compose –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
*   **Java 17**
*   **Spring Boot 3**
    *   Spring Security (–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
    *   Spring Data JPA (–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö)
    *   Spring Sessions (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –≤ Redis)
*   **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
    *   **PostgreSQL** - —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ñ–∞–π–ª–æ–≤.
    *   **Redis** - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Å–µ—Å—Å–∏–π.
    *   **MinIO** - S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Ñ–∞–π–ª–æ–≤.
*   **–ú–∏–≥—Ä–∞—Ü–∏–∏:** Flyway
*   **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:** Swagger / OpenAPI 3

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
*   **Docker & Docker Compose**
*   **JUnit 5 & Testcontainers** (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## üì¶ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö –≤ Docker-—Å–µ—Ç—å:
1.  **`app`** - –æ—Å–Ω–æ–≤–Ω–æ–µ Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
2.  **`postgres`** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.
3.  **`redis`** - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ—Å—Å–∏–π.
4.  **`minio`** - S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Ñ–∞–π–ª–æ–≤.

---
## üìö API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

API —Å–ª–µ–¥—É–µ—Ç REST-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –±–∞–∑–æ–≤–æ–º—É –ø—É—Ç–∏ `/api`. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã (–∫—Ä–æ–º–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏) —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–µ –∫—É–∫–∏.

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç               | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|-------|------------------------|-----------------------------|
| POST  | `/api/auth/sign-up`    | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST  | `/api/auth/sign-in`    | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É               |
| POST  | `/api/auth/sign-out`   | –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã             |

### üìÇ –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

| –ú–µ—Ç–æ–¥   | –≠–Ω–¥–ø–æ–∏–Ω—Ç                          | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|---------|-----------------------------------|-----------------------------|
| GET     | `/api/resource?path={path}`       | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ/–ø–∞–ø–∫–µ    |
| DELETE  | `/api/resource?path={path}`       | –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞/–ø–∞–ø–∫–∏        |
| GET     | `/api/resource/download?path={path}` | –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞/–ø–∞–ø–∫–∏ (zip)|
| GET     | `/api/resource/move?from={from}&to={to}` | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ/–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ |
| GET     | `/api/resource/search?query={query}` | –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤              |
| POST    | `/api/resource?path={path}`       | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤             |

### üìÅ –†–∞–±–æ—Ç–∞ —Å –ø–∞–ø–∫–∞–º–∏

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç                   | –û–ø–∏—Å–∞–Ω–∏–µ                  |
|-------|----------------------------|--------------------------|
| GET   | `/api/directory?path={path}` | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏        |
| POST  | `/api/directory?path={path}` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–∞–ø–∫–∏    |
---
## üöÄ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

### üß© –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

* [Git](https://git-scm.com/) ‚â• 2.30
* [Docker](https://www.docker.com/) ‚â• 20.10
* [Docker Compose](https://docs.docker.com/compose/) ‚â• 2.0

–¢–∞–∫–∂–µ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã **3000**, **8080**, **5432**, **6379**, **9000**, **9001** –Ω–µ –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

---

### üß± –®–∞–≥ 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/muted987/cloudStorage.git
cd cloudStorage
```
---

### ‚öôÔ∏è –®–∞–≥ 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç):

```bash
# App
SERVER_PORT=8080

# PostgreSQL
HIBERNATE_URL=jdbc:postgresql://postgres:5432/data-base-name
HIBERNATE_DRIVER_CLASS_NAME=org.postgresql.Driver
HIBERNATE_USERNAME=username
HIBERNATE_PASSWORD=password

# Redis
REDIS_PORT=6379
REDIS_HOST=redis
REDIS_SESSION_TIMEOUT=30m

# MinIO
MINIO_URL=http://minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BASE_BUCKET_NAME=user-files

# Extra
HIBERNATE_CONTAINER_USERNAME=username
HIBERNATE_CONTAINER_PASSWORD=password
HIBERNATE_CONTAINER_NAME=container-postgres
```

---

### üê≥ –®–∞–≥ 3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
docker-compose up --build
```


### üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

| –°–µ—Ä–≤–∏—Å            | URL / –ü–æ—Ä—Ç                                                                     | –û–ø–∏—Å–∞–Ω–∏–µ                 |
| :---------------- | :----------------------------------------------------------------------------- | :----------------------- |
| **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**    | [http://localhost:3000](http://localhost:3000)                                 | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ REST API |
| **Swagger UI**    | [http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html) | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API         |
| **MinIO Console** | [http://localhost:9001](http://localhost:9001)                                 | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å MinIO      |
| **PostgreSQL**    | `localhost:5432`                                                               | –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö     |
| **Redis**         | `localhost:6379`                                                               | –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ—Å—Å–∏–π         |

